{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["'use strict';\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst searchButton = document.querySelector('button[type=\"search\"]');\nconst form = document.querySelector(\"form\");\nconst loader = document.querySelector(\".loader\");\n\n//const URL = \"https://pixabay.com/api/?key=\" + API_KEY + \"&q=\" + encodeURIComponent(searchedItem) + \"&image_type=photo&orientation=horizontal&safesearch=true\";\n\nsearchButton.addEventListener(\"click\", (event) => {\n    event.preventDefault();\n\n    const gallery = document.querySelector(\".gallery\");\n    gallery.innerHTML = '';\n\n    const searchedItem = document.querySelector(\"#image-search\").value.trim();\n\n    if (searchedItem === '') {\n        iziToast.error({\n            position: 'topRight',\n            message: 'Please enter your search query.',\n            });\n        return;\n    };\n\n    loader.style.display = \"block\";\n\n    const params = new URLSearchParams({\n        key: \"54363861-75378e31e8cc289554c1794de\",\n        q: searchedItem,\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: \"true\",\n        per_page: \"99\"\n    })\n\n    fetch(`https://pixabay.com/api/?${params}`)\n        .then((response) => response.json())\n        .then((results) => {\n            loader.style.display = \"none\";\n            if (results.totalHits <= 0) {\n                iziToast.error({\n                    position: 'topRight',\n                    message: 'Sorry, there are no images matching your search query. Please try again!',\n                });\n                return;\n            };\n            showResults(results.hits)\n        }) \n        .catch((error) => {\n            loader.style.display = \"none\";\n            iziToast.error({\n                    position: 'topRight',\n                    message: `${error}`,\n                });\n        });\n    \n    function showResults(results) {\n        const searchResults = results\n            .map((result) => {\n                return `\n                <ul class=\"search-result\">\n                    <li class=\"image\">\n                        <a class=\"gallery-link\" href=\"${result.largeImageURL}\"\n                        ><img\n                            class=\"gallery-image\"\n                            src=\"${result.webformatURL}\"\n                            data-source=\"${result.largeImageURL}\"\n                            alt=\"${result.tags}\"\n                        /></a>\n                    </li>\n                    <li class=\"stats\">\n                        <ul>\n                            <li class=\"likes\">\n                                <h2>Likes</h2>\n                                <p>${result.likes}</p>\n                            </li>\n                            <li class=\"views\">\n                                <h2>Views</h2>\n                                <p>${result.views}</p>\n                            </li>\n                            <li class=\"comments\">\n                                <h2>Comments</h2>\n                                <p>${result.comments}</p>\n                            </li>\n                            <li class=\"downloads\">\n                                <h2>Downloads</h2>\n                                <p>${result.downloads}</p>\n                            </li>\n                        </ul>\n                    </li>\n                    \n                </ul>\n            `;\n            })\n            .join(\"\");\n        \n        gallery.insertAdjacentHTML(\"beforeend\", searchResults);\n\n        const lightbox = new SimpleLightbox('.gallery a', {\n            captionsData: \"alt\",\n            captionDelay: 250\n        });\n\n        lightbox.refresh()\n    }\n\n    form.reset()\n});\n"],"names":["searchButton","form","loader","event","gallery","searchedItem","iziToast","params","response","results","showResults","error","searchResults","result","SimpleLightbox"],"mappings":"6vBAOA,MAAMA,EAAe,SAAS,cAAc,uBAAuB,EAC7DC,EAAO,SAAS,cAAc,MAAM,EACpCC,EAAS,SAAS,cAAc,SAAS,EAI/CF,EAAa,iBAAiB,QAAUG,GAAU,CAC9CA,EAAM,eAAc,EAEpB,MAAMC,EAAU,SAAS,cAAc,UAAU,EACjDA,EAAQ,UAAY,GAEpB,MAAMC,EAAe,SAAS,cAAc,eAAe,EAAE,MAAM,OAEnE,GAAIA,IAAiB,GAAI,CACrBC,EAAS,MAAM,CACX,SAAU,WACV,QAAS,iCACrB,CAAa,EACL,MAER,CACIJ,EAAO,MAAM,QAAU,QAEvB,MAAMK,EAAS,IAAI,gBAAgB,CAC/B,IAAK,qCACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,OACZ,SAAU,IAClB,CAAK,EAED,MAAM,4BAA4BE,CAAM,EAAE,EACrC,KAAMC,GAAaA,EAAS,KAAI,CAAE,EAClC,KAAMC,GAAY,CAEf,GADAP,EAAO,MAAM,QAAU,OACnBO,EAAQ,WAAa,EAAG,CACxBH,EAAS,MAAM,CACX,SAAU,WACV,QAAS,0EAC7B,CAAiB,EACD,MAChB,CACYI,EAAYD,EAAQ,IAAI,CACpC,CAAS,EACA,MAAOE,GAAU,CACdT,EAAO,MAAM,QAAU,OACvBI,EAAS,MAAM,CACP,SAAU,WACV,QAAS,GAAGK,CAAK,EACrC,CAAiB,CACjB,CAAS,EAEL,SAASD,EAAYD,EAAS,CAC1B,MAAMG,EAAgBH,EACjB,IAAKI,GACK;AAAA;AAAA;AAAA,wDAGiCA,EAAO,aAAa;AAAA;AAAA;AAAA,mCAGzCA,EAAO,YAAY;AAAA,2CACXA,EAAO,aAAa;AAAA,mCAC5BA,EAAO,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qCAOTA,EAAO,KAAK;AAAA;AAAA;AAAA;AAAA,qCAIZA,EAAO,KAAK;AAAA;AAAA;AAAA;AAAA,qCAIZA,EAAO,QAAQ;AAAA;AAAA;AAAA;AAAA,qCAIfA,EAAO,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAOxC,EACA,KAAK,EAAE,EAEZT,EAAQ,mBAAmB,YAAaQ,CAAa,EAEpC,IAAIE,EAAe,aAAc,CAC9C,aAAc,MACd,aAAc,GAC1B,CAAS,EAEQ,QAAS,CACrB,CAEDb,EAAK,MAAO,CAChB,CAAC"}